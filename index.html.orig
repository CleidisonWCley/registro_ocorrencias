<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CBMPE Início</title>

  <!-- icons / manifest -->
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
  <link rel="manifest" href="manifest.json">

  <!-- estilos -->
  <link rel="stylesheet" href="style/style.css" />
  <meta name="theme-color" content="#0b5f8a">
  <style>
    /* Pequenos ajustes locais (opcionais) para garantir espaçamento no topo */
    body { padding-top: 0; }
  </style>
</head>
<body>
  <!-- HEADER PADRONIZADO -->
  <header class="header" role="banner">
    <div class="brand" aria-label="CBMPE">
      <img class="logo" src="icons/logo.jpg" alt="CBMPE logo">
      <div>
        <div style="font-weight:900">CBMPE</div>
        <div style="font-size:12px;color:rgba(255,255,255,0.9)">Corpo de Bombeiros Militar - Pernambuco</div>
      </div>
    </div>

    <nav class="nav" role="navigation" aria-label="Menu principal">
      <a href="index.html">Início</a>
      <a href="servicos.html">Serviços</a>
      <a href="app.html">Ocorrências</a>
      <a href="contato.html">Contato</a>
      <a href="ajuda.html">Ajuda</a>
    </nav>

    <div class="actions" role="region" aria-label="Ações rápidas">
      <a class="btn secondary" href="perfil.html">Perfil</a>
      <a class="btn primary" href="admin.html">Login</a>
      <button class="menu-toggle" id="menuToggle" aria-expanded="false" aria-controls="mobileMenu">☰</button>
    </div>
  </header>

  <!-- mobile menu (renderizado pelo JS) -->
  <div id="mobileMenu" class="mobile-menu" style="display:none" aria-hidden="true"></div>

  <!-- MAIN -->
  <main class="container" role="main">
    <section class="home-hero card" aria-labelledby="heroTitle">
      <div style="flex:1">
        <h1 id="heroTitle">Servindo e protegendo Pernambuco com coragem e dedicação</h1>
        <p class="muted">Registro ágil de ocorrências, painel de gestão e suporte para os agentes do Corpo de Bombeiros.</p>

        <div style="margin-top:14px" class="row">
          <a class="btn action" href="app.html">Registrar Ocorrência</a>
          <a class="btn primary" href="admin.html" style="margin-left:8px">Área do Agente</a>
        </div>
      </div>

      <div style="width:240px" class="center">
        <img src="icons/apple-touch-icon.png" alt="logo CBMPE" style="width:160px;border-radius:12px">
      </div>
    </section>

    <section class="card" aria-labelledby="svcTitle">
      <h2 id="svcTitle" class="section">Serviços</h2>

      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:12px">
        <div class="card" role="article">
          <h3>Registro de Ocorrências</h3>
          <p>Registro rápido com localização, envio de fotos e histórico local.</p>
        </div>

        <div class="card" role="article">
          <h3>Painel de Gestão</h3>
          <p>Filtro, busca e atendimento das ocorrências. Acesso restrito para agentes.</p>
        </div>

        <div class="card" role="article">
          <h3>Prevenção e Educação</h3>
          <p>Orientações, treinamentos e materiais para a população e para equipes internas.</p>
        </div>
      </div>
    </section>

    <section class="card" aria-labelledby="aboutTitle">
      <h2 id="aboutTitle" class="section">Sobre</h2>
      <p>Este sistema é um protótipo integrado para registro e gestão de ocorrências. Em produção, autenticação e armazenamento devem usar backend seguro.</p>
    </section>
  </main>

  <footer class="footer" role="contentinfo">© CBMPE Corpo de Bombeiros Militar de Pernambuco</footer>

  <!-- JS: menu e acessibilidade -->
  <script>
    (function(){
      const menuBtn = document.getElementById('menuToggle');
      const mobileMenu = document.getElementById('mobileMenu');
      const navHtml = document.querySelector('.nav').innerHTML;

      function openMenu(){
        mobileMenu.style.display = 'block';
        mobileMenu.innerHTML = navHtml + '<div style="margin-top:8px"><a class="btn primary" href="admin.html">Login</a></div>';
        menuBtn.setAttribute('aria-expanded','true');
        mobileMenu.setAttribute('aria-hidden','false');
      }

      function closeMenu(){
        mobileMenu.style.display = 'none';
        mobileMenu.innerHTML = '';
        menuBtn.setAttribute('aria-expanded','false');
        mobileMenu.setAttribute('aria-hidden','true');
      }

      menuBtn.addEventListener('click', function(){
        if(mobileMenu.style.display === 'block') closeMenu(); else openMenu();
      });

      // close mobile menu when clicking outside (nice UX)
      document.addEventListener('click', function(e){
        if(!mobileMenu.contains(e.target) && e.target !== menuBtn && window.innerWidth <= 900){
          closeMenu();
        }
      });

      // ensure menu is hidden on resize > 900
      window.addEventListener('resize', function(){
        if(window.innerWidth > 900) closeMenu();
      });
    })();
  </script>
</body>
</html>